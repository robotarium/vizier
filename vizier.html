<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>vizier package &mdash; vizier 0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="vizier 0.2 documentation" href="index.html" />
    <link rel="up" title="vizier" href="modules.html" />
    <link rel="prev" title="vizier" href="modules.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="vizier-package">
<h1>vizier package<a class="headerlink" href="#vizier-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-vizier.mqttinterface">
<span id="vizier-mqttinterface-module"></span><h2>vizier.mqttinterface module<a class="headerlink" href="#module-vizier.mqttinterface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="vizier.mqttinterface.MQTTInterface">
<em class="property">class </em><code class="descclassname">vizier.mqttinterface.</code><code class="descname">MQTTInterface</code><span class="sig-paren">(</span><em>port=1884</em>, <em>keep_alive=60</em>, <em>host='localhost'</em>, <em>logging_config=None</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This is a wrapper around the Paho MQTT interface with enhanced functionality</p>
<dl class="attribute">
<dt id="vizier.mqttinterface.MQTTInterface.host">
<code class="descname">host</code><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.host" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>The MQTT broker&#8217;s host to which this client connects.</p>
</dd></dl>

<dl class="attribute">
<dt id="vizier.mqttinterface.MQTTInterface.port">
<code class="descname">port</code><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.port" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em></p>
<p>The MQTT broker&#8217;s port to which this client connects.</p>
</dd></dl>

<dl class="method">
<dt id="vizier.mqttinterface.MQTTInterface.on_message">
<code class="descname">on_message</code><span class="sig-paren">(</span><em>client</em>, <em>userdata</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Thread safe. Callback handling messages from the client.  Either puts the message into a callback or a channel</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> &#8211; Client from which message was recieved</li>
<li><strong>userdata</strong> &#8211; Data about the client</li>
<li><strong>msg</strong> &#8211; MQTT payload</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.mqttinterface.MQTTInterface.send_message">
<code class="descname">send_message</code><span class="sig-paren">(</span><em>channel</em>, <em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Thread safe.  Sends a message on the MQTT client.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>channel</strong> (<em>str</em>) &#8211; string (channel on which to send message)</li>
<li><strong>message</strong> (<em>bytes</em>) &#8211; Message to be sent.  Should be in an encoded bytes format (like UTF-8)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.mqttinterface.MQTTInterface.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles starting the underlying MQTT client</p>
</dd></dl>

<dl class="method">
<dt id="vizier.mqttinterface.MQTTInterface.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles stopping the MQTT client</p>
</dd></dl>

<dl class="method">
<dt id="vizier.mqttinterface.MQTTInterface.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>channel</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Thread safe. A subscribe routine that yields a queue to which all subsequent messages to the given topic will be passed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>channel</strong> (<em>str</em>) &#8211; Channel to which the client will subscribe</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A queue containing all future messages from the supplied channel</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.mqttinterface.MQTTInterface.subscribe_with_callback">
<code class="descname">subscribe_with_callback</code><span class="sig-paren">(</span><em>channel</em>, <em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.subscribe_with_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Thread safe.  Subscribes to a channel with a callback using the underlying MQTT client.</p>
<p>All messages to that channel will be passed into the callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>channel</strong> (<em>str</em>) &#8211; Channel to which the node subscribes</li>
<li><strong>callback</strong> (<em>function</em>) &#8211; Callback function for the topic</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.mqttinterface.MQTTInterface.unsubscribe">
<code class="descname">unsubscribe</code><span class="sig-paren">(</span><em>channel</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.mqttinterface.MQTTInterface.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Thread safe. Unsubscribes from a particular channel</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>channel</strong> (<em>str</em>) &#8211; Channel from which the client unsubscribes</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vizier.node">
<span id="vizier-node-module"></span><h2>vizier.node module<a class="headerlink" href="#module-vizier.node" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="vizier.node.Node">
<em class="property">class </em><code class="descclassname">vizier.node.</code><code class="descname">Node</code><span class="sig-paren">(</span><em>broker_host</em>, <em>broker_port</em>, <em>node_descriptor</em>, <em>logging_config=None</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Represents a node on the vizier network...</p>
<p>More stuff</p>
<dl class="attribute">
<dt id="vizier.node.Node.mqtt_client">
<code class="descname">mqtt_client</code><a class="headerlink" href="#vizier.node.Node.mqtt_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="vizier.node.Node.node_descriptor">
<code class="descname">node_descriptor</code><a class="headerlink" href="#vizier.node.Node.node_descriptor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">...</code></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vizier.node.Node.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>link</em>, <em>timeout=1</em>, <em>retries=5</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a get request on a particular link, provided that the link is in the gettable links for the node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>link</strong> (<em>str</em>) &#8211; Link on which GET request is made</li>
<li><strong>timeout</strong> (<em>double</em>) &#8211; Timeout for GET request</li>
<li><strong>retries</strong> (<em>int</em>) &#8211; Number of times to retry GET request</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Data that was retrieved from the link as a JSON-formatted object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueErorr</span></code> &#8211;
If link is not classified as gettable (remote DATA)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.node.Node.publish">
<code class="descname">publish</code><span class="sig-paren">(</span><em>link</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Publishes data on a particular link.  Link should have been classified as STREAM in node descriptor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>link</strong> (<em>str</em>) &#8211; Link on which data is published</li>
<li><strong>data</strong> (<em>bytes</em>) &#8211; Bytes to be published over MQTT</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
If the provided link is not classified as STREAM</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.node.Node.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>link</em>, <em>info</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts data on a particular link</p>
<p>This data is retrievable from other nodes via a GET request</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>link</strong> (<em>str</em>) &#8211; Link on which to place data</li>
<li><strong>info</strong> (<em>dict</em>) &#8211; JSON-formatted dict representing gettable data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
If the provided link is not classified as DATA</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.node.Node.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>retries=5</em>, <em>timeout=1</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the MQTT client and connect to the vizier network</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>retries</strong> (<em>int</em>) &#8211; Number of times to retry each GET request</li>
<li><strong>timeout</strong> (<em>double</em>) &#8211; Timeout for each GET Request</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
If all requests were not available on the network</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.node.Node.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the MQTT client</p>
</dd></dl>

<dl class="method">
<dt id="vizier.node.Node.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>link</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes to the provided link with the underlying MQTT client, provided that the link is in the subscribable links for the node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>link</strong> &#8211; string (link to which the node should subscribe)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
If link is not classified as subscrbable (remote STREAM)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.node.Node.subscribe_with_callback">
<code class="descname">subscribe_with_callback</code><span class="sig-paren">(</span><em>link</em>, <em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node.subscribe_with_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribes to link with the callback using the underlying MQTT client.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>link</strong> (<em>str</em>) &#8211; Link to which the client subscribes</li>
<li><strong>callback</strong> (<em>function</em>) &#8211; All messages recieved on link are passed through this function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
If the provided link is not subscribable (remote STREAM)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.node.Node.unsubscribe">
<code class="descname">unsubscribe</code><span class="sig-paren">(</span><em>link</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.node.Node.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>If the specified link is in the subscribable links, the node unsubscribes from the link.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>link</strong> (<em>str</em>) &#8211; Link from which the node unsubscribes</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
If the provided link is not subscribable (remote STREAM)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vizier.utils">
<span id="vizier-utils-module"></span><h2>vizier.utils module<a class="headerlink" href="#module-vizier.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="vizier.utils.combine_paths">
<code class="descclassname">vizier.utils.</code><code class="descname">combine_paths</code><span class="sig-paren">(</span><em>base</em>, <em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.combine_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands path to absolute or local</p>
<p>If the path is in absolute format, doesn&#8217;t do anything.  Otherwise, appends the base path
to the path for form an absolute path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>base</strong> (<em>str</em>) &#8211; Base path in absolute format</li>
<li><strong>path</strong> (<em>str</em>) &#8211; Path in absolute or relative format</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A string in absolute format</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vizier.utils.create_message_id">
<code class="descclassname">vizier.utils.</code><code class="descname">create_message_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.create_message_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="vizier.utils.create_request">
<code class="descclassname">vizier.utils.</code><code class="descname">create_request</code><span class="sig-paren">(</span><em>request_id</em>, <em>method</em>, <em>link</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.create_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Create vizier request message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> (<em>str</em>) &#8211; Unique identifier for request.  Ideally, should be somethign large and random</li>
<li><strong>method</strong> (<em>str</em>) &#8211; Method for request (e.g., GET)</li>
<li><strong>link</strong> (<em>str</em>) &#8211; Link on which request is made</li>
<li><strong>body</strong> (<em>dict</em>) &#8211; JSON-formatted dict containing the body for the request (could be optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">JSON-formatted dict respresenting the request message.  This message can be published on the requests channel</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vizier.utils.create_request_link">
<code class="descclassname">vizier.utils.</code><code class="descname">create_request_link</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.create_request_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the appropriate request channel for a given node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<em>str</em>) &#8211; Name of the node on which the request link should be created</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">String representing the request link.  It is of the form &lt;node_name&gt;/requests</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vizier.utils.create_response">
<code class="descclassname">vizier.utils.</code><code class="descname">create_response</code><span class="sig-paren">(</span><em>status</em>, <em>body</em>, <em>topic_type</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.create_response" title="Permalink to this definition">¶</a></dt>
<dd><p>body: JSON dict (JSON-formatted dict to be transmitted with message)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> (<em>int</em>) &#8211; Status integer for response</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A JSON-formatted dict representing the response message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vizier.utils.create_response_link">
<code class="descclassname">vizier.utils.</code><code class="descname">create_response_link</code><span class="sig-paren">(</span><em>node</em>, <em>message_id</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.create_response_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a response to a request message from the node&#8217;s name and the message id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>node</strong> (<em>str</em>) &#8211; Name of the node for the response link.  Format will be &lt;node_name&gt;/responses/message_id</li>
<li><strong>message_id</strong> (<em>str</em>) &#8211; Unique ID of message for response</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">String of the form &lt;node_name&gt;/responses/message_id on which the response should be published</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vizier.utils.extract_keys">
<code class="descclassname">vizier.utils.</code><code class="descname">extract_keys</code><span class="sig-paren">(</span><em>descriptor</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.extract_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract particular keys from a given descriptor file.  Namely, ignores the links attributes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>descriptor</strong> (<em>dict</em>) &#8211; JSON-formmated descriptor for a particular link</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict containing a mapping of keys to be extracted.  For example
{&#8216;type&#8217;: &#8216;DATA&#8217;, &#8216;body&#8217;: {}}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vizier.utils.generate_links_from_descriptor">
<code class="descclassname">vizier.utils.</code><code class="descname">generate_links_from_descriptor</code><span class="sig-paren">(</span><em>descriptor</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.generate_links_from_descriptor" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively parses a descriptor file, expanding links as it goes.  This function will
also check to ensure that all specified paths are valid, with respect to the local node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>descriptor</strong> (<em>dict</em>) &#8211; A JSON-formatted descriptor for the node.  For example</li>
<li><strong>{</strong> &#8211; <p>&#8216;end_point&#8217;: &#8216;test_node&#8217;,
&#8216;links&#8217;:
{</p>
<blockquote>
<div>&#8216;sub_link&#8217;:
{<blockquote>
<div>&#8216;type&#8217;: &#8216;DATA</div></blockquote>
<p>}</p>
</div></blockquote>
<p>},
&#8216;requests&#8217;: []</p>
</li>
<li><strong>}</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dict containing the non-recursively defined links, and the requests of the node.  For example
{
&#8216;test_node/sub_link&#8217;: {&#8216;type&#8217;: &#8216;DATA&#8217;, &#8216;body&#8217;: {}}
},
[]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
If the recursive definition of the link paths is invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="vizier.utils.is_subpath_of">
<code class="descclassname">vizier.utils.</code><code class="descname">is_subpath_of</code><span class="sig-paren">(</span><em>superpath</em>, <em>subpath</em>, <em>delimiter='/'</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.utils.is_subpath_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if subpath is a subpath of superpath</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>superpath</strong> (<em>str</em>) &#8211; A string-based path where values are separated by &#8216;/&#8217;</li>
<li><strong>subpath</strong> (<em>str</em>) &#8211; A string-based path where values are separated by &#8216;/&#8217;</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>subpath: string (separated by /)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A bool indicating whether the relation holds</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-vizier.vizier">
<span id="vizier-vizier-module"></span><h2>vizier.vizier module<a class="headerlink" href="#module-vizier.vizier" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="vizier.vizier.Vizier">
<em class="property">class </em><code class="descclassname">vizier.vizier.</code><code class="descname">Vizier</code><span class="sig-paren">(</span><em>host</em>, <em>port</em>, <em>nodes</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#vizier.node.Node" title="vizier.node.Node"><code class="xref py py-class docutils literal"><span class="pre">vizier.node.Node</span></code></a></p>
<p>Handles inspection and dependency verification for the nodes passed into the network</p>
<dl class="attribute">
<dt id="vizier.vizier.Vizier.host">
<code class="descname">host</code><a class="headerlink" href="#vizier.vizier.Vizier.host" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>MQTT host to which vizier node connects</p>
</dd></dl>

<dl class="attribute">
<dt id="vizier.vizier.Vizier.port">
<code class="descname">port</code><a class="headerlink" href="#vizier.vizier.Vizier.port" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em></p>
<p>MQTT port to which vizier node connects</p>
</dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>link</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.get_deps">
<code class="descname">get_deps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.get_deps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.get_link_deps">
<code class="descname">get_link_deps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.get_link_deps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.get_links">
<code class="descname">get_links</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.get_links" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.listen">
<code class="descname">listen</code><span class="sig-paren">(</span><em>link</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.listen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>retries=30</em>, <em>timeout=1</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the vizier node.</p>
<p>Starts the underlying MQTT client and makes GET requests for specified nodes.  These requests retrieve all the relevant data for the nodes so that
inspection can occur.  This data is only retrieved once and is static over the lifetime of the vizier object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>retries</strong> (<em>int</em>) &#8211; Number of times to retry the GET requests</li>
<li><strong>timeout</strong> (<em>double</em>) &#8211; Timeout for the GET requests</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely shuts down the vizier node.</p>
<p>-&gt; None</p>
</dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.unlisten">
<code class="descname">unlisten</code><span class="sig-paren">(</span><em>link</em><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.unlisten" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.verify_deps">
<code class="descname">verify_deps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.verify_deps" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the dependencies of the specified nodes.</p>
<p>Ensures that for each request that has been made, that link is being provided by another provided node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if all the dependencies are met</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal"><span class="pre">ValueError</span></code> &#8211;
If any dependency is unsatified</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="vizier.vizier.Vizier.visualize">
<code class="descname">visualize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#vizier.vizier.Vizier.visualize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-vizier">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-vizier" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">vizier package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-vizier.mqttinterface">vizier.mqttinterface module</a></li>
<li><a class="reference internal" href="#module-vizier.node">vizier.node module</a></li>
<li><a class="reference internal" href="#module-vizier.utils">vizier.utils module</a></li>
<li><a class="reference internal" href="#module-vizier.vizier">vizier.vizier module</a></li>
<li><a class="reference internal" href="#module-vizier">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">vizier</a><ul>
      <li>Previous: <a href="modules.html" title="previous chapter">vizier</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/vizier.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Paul Glotfelter.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/vizier.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>